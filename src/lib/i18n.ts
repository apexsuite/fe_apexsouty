import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const getInitialLang = () => {
  // Server-side rendering sırasında default değer döndür
  if (typeof window === 'undefined') {
    return 'en';
  }
  
  // Client-side'da localStorage'dan al
  try {
    return localStorage.getItem('lang') || 'en';
  } catch {
    return 'en';
  }
};

const resources = {
  en: {
    translation: {
      navbar: {
        search: 'Search',
        light: 'Light',
        dark: 'Dark',
        system: 'System',
      },
      login: {
        title: 'Log In to ApexScouty',
        username: 'Username',
        password: 'Password',
        forgot: 'Forgot password?',
        button: 'Login',
        success: 'Login successful!',
      },
      forgot: {
        title: 'Forgot Password',
        email: 'Email Address',
        language: 'Language',
        button: 'Send Reset Link',
        back: 'Back to Login',
      },
      register: {
        title: 'Register',
        submit: 'Register',
        name: 'Name',
        email: 'Email',
        username: 'Username',
        password: 'Password',
        password2: 'Confirm Password',
        fillAllFields: 'Please fill all fields',
        passwordsNotMatch: 'Passwords do not match',
        success: 'Registration successful! You can now log in.',
        haveAccount: 'Already have an account?',
        login: 'Login',
      },
      sidebar: {
        logout: 'Logout', 
        dashboard: 'Dashboard',
        permissions: 'Permissions',
        permissionsManagement: 'Permission Management',
        users: 'Users',
        orders: 'Orders',
        products: 'Products',
        reports: 'Reports',
        settings: 'Settings',
        favorites: 'Favourites',
        allServices: 'All Services',
        allResources: 'All Resources',
        resourceGroups: 'Resource Groups',
        functionApp: 'Function App',
        sqlDatabases: 'SQL Databases',
        azureCosmosDb: 'Azure Cosmos DB',
        virtualMachines: 'Virtual Machines',
        loadBalancers: 'Load Balancers',
        appServices: 'App Services',
        storageAccounts: 'Storage Accounts',
        virtualNetworks: 'Virtual Networks',
        monitor: 'Monitor',
        logoutSuccess: 'Successfully logged out, redirecting you',
      },
      dashboard: {
        users: 'Users',
        orders: 'Orders',
        growth: 'Growth',
        revenue: 'Revenue',
      },
      searchBar: {
        history: 'History',
        clearHistory: 'Clear History',
        noHistory: 'No history',
        favorites: 'Favorites',
        noResults: 'No results found',
      },
      table: {
        name: 'Name',
        type: 'Type',
        lastViewed: 'Last Viewed',
        allResources: 'All Resources',
        recent: 'Recent',
        favorite: 'Favorite',
        resources: 'Resources',
        seeAll: 'See all',
      },
      permissions: {
        title: 'Permissions',
        active: 'Active',
        inactive: 'Inactive',
        userRoles: 'User Roles',
        totalRoles: 'Total Roles',
        totalPermissions: 'Total Permissions',
        activePermissions: 'Active Permissions',
        inactivePermissions: 'Inactive Permissions',
        permissionManagement: 'Permission Management',
        permissionName: 'Permission Name',
        description: 'Description',
        type: 'Type',
        status: 'Status',
        assignedTo: 'Assigned To',
        lastModified: 'Last Modified',
        read: 'Read',
        write: 'Write',
        admin: 'Admin',
        delete: 'Delete',
        create: 'Create',
        update: 'Update',
        actions: 'Actions',
        deleteConfirmTitle: 'Delete Permission',
        deleteConfirmMessage: 'Are you sure you want to delete this permission? This action cannot be undone.',
        deleteConfirmCancel: 'Cancel',
        deleteConfirmDelete: 'Delete',
        createNewPermission: 'Create New Permission',
        enterPermissionName: 'Enter permission name',
        enterDescription: 'Enter description',
        enterUserName: 'Enter user name',
        createPermission: 'Create Permission',
        cancel: 'Cancel',
        back: 'Back',
        edit: 'Edit',
        save: 'Save',
        duplicatePermission: 'Duplicate Permission',
        manageAssignments: 'Manage Assignments',
        viewActivityLog: 'View Activity Log',
        basicInformation: 'Basic Information',
        metadata: 'Metadata',
        quickActions: 'Quick Actions',
        includedPermissions: 'Included Permissions',
        scope: 'Scope',
        priority: 'Priority',
        low: 'Low',
        medium: 'Medium',
        high: 'High',
        global: 'Global',
        department: 'Department',
        project: 'Project',
        permissionDetails: 'Permission Details',
        permissionNotFound: 'Permission not found',
        permissionNotFoundMessage: "The permission you're looking for doesn't exist.",
        backToPermissions: 'Back to Permissions',
        noPermissionsFound: 'No permissions found',
        noPermissionsFoundCriteria: 'No permissions found matching your criteria',
        enterUsernamesSeparated: 'Enter usernames separated by commas',
        copy: 'Copy',
        created: 'Created',
      },
    },
  },
  tr: {
    translation: {
      navbar: {
        search: 'Ara',
        light: 'Açık',
        dark: 'Koyu',
        system: 'Sistem',
      },
      login: {
        title: 'ApexScouty Giriş',
        username: 'Kullanıcı Adı',
        password: 'Şifre',
        forgot: 'Şifremi unuttum?',
        button: 'Giriş Yap',
        success: 'Giriş başarılı!',
      },
      forgot: {
        title: 'Şifremi Unuttum',
        email: 'E-posta Adresi',
        language: 'Dil',
        button: 'Sıfırlama Linki Gönder',
        back: 'Girişe Dön',
      },
      register: {
        title: 'Üye Ol',
        submit: 'Kayıt Ol',
        name: 'Ad Soyad',
        email: 'E-posta',
        username: 'Kullanıcı Adı',
        password: 'Şifre',
        password2: 'Şifre Tekrar',
        fillAllFields: 'Lütfen tüm alanları doldurun.',
        passwordsNotMatch: 'Şifreler eşleşmiyor.',
        success: 'Kayıt başarılı! Giriş yapabilirsiniz.',
        haveAccount: 'Zaten hesabınız var mı?',
        login: 'Giriş Yap',
      },
      sidebar: {
        logout: 'Çıkış Yap',
        dashboard: 'Anasayfa',
        permissions: 'İzinler',
        permissionsManagement: 'İzin Atama',
        users: 'Kullanıcılar',
        orders: 'Siparişler',
        products: 'Ürünler',
        reports: 'Raporlar',
        settings: 'Ayarlar',
        favorites: 'Favoriler',
        allServices: 'Tüm Hizmetler',
        allResources: 'Tüm Kaynaklar',
        resourceGroups: 'Kaynak Grupları',
        functionApp: 'İşlev Uygulaması',
        sqlDatabases: 'SQL Veritabanları',
        azureCosmosDb: 'Azure Cosmos DB',
        virtualMachines: 'Sanal Makineler',
        loadBalancers: 'Yük Dengeleyiciler',
        appServices: 'Uygulama Hizmetleri',
        storageAccounts: 'Depolama Hesapları',
        virtualNetworks: 'Sanal Ağlar',
        monitor: 'Monitor',
        logoutSuccess: 'Başarıyla çıkış yapıldı, yönlendiriliyorsunuz',
      },
      dashboard: {
        users: 'Kullanıcılar',
        orders: 'Siparişler',
        growth: 'Büyüme',
        revenue: 'Ciro',
      },
      searchBar: {
        history: 'Geçmiş',
        clearHistory: 'Geçmişi Temizle',
        noHistory: 'Geçmiş yok',
        favorites: 'Favoriler',
        noResults: 'Sonuç bulunamadı',
      },
      table: {
        name: 'Ad',
        type: 'Tip',
        lastViewed: 'Son Görüntülenme',
        allResources: 'Tüm Kaynaklar',
        recent: 'Son',
        favorite: 'Favori',
        resources: 'Kaynaklar',
        seeAll: 'Hepsini Gör',
      },
      permissions: {
        title: 'İzinler',
        active: 'Aktif',
        inactive: 'Pasif',
        userRoles: 'Kullanıcı Rolleri',
        totalRoles: 'Toplam Rol',
        totalPermissions: 'Toplam İzin',
        activePermissions: 'Aktif İzinler',
        inactivePermissions: 'Pasif İzinler',
        permissionManagement: 'İzin Yönetimi',
        permissionName: 'İzin Adı',
        description: 'Açıklama',
        type: 'Tip',
        status: 'Durum',
        assignedTo: 'Atanan Kişi',
        lastModified: 'Son Değiştirilme',
        read: 'Okuma',
        write: 'Yazma',
        admin: 'Yönetici',
        actions: 'İşlemler',
        create: 'Oluştur',
        delete: 'Sil',
        update: 'Güncelle',
        deleteConfirmTitle: 'İzin Sil',
        deleteConfirmMessage: 'Bu izni silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.',
        deleteConfirmCancel: 'İptal',
        deleteConfirmDelete: 'Sil',
        createNewPermission: 'Yeni İzin Oluştur',
        enterPermissionName: 'İzin adı girin',
        enterDescription: 'Açıklama girin',
        enterUserName: 'Kullanıcı adı girin',
        createPermission: 'İzin Oluştur',
        cancel: 'İptal',
        back: 'Geri',
        edit: 'Düzenle',
        save: 'Kaydet',
        duplicatePermission: 'İzni Kopyala',
        manageAssignments: 'Atamaları Yönet',
        viewActivityLog: 'Aktivite Günlüğünü Görüntüle',
        basicInformation: 'Temel Bilgiler',
        metadata: 'Meta Veriler',
        quickActions: 'Hızlı İşlemler',
        includedPermissions: 'Dahil Edilen İzinler',
        scope: 'Kapsam',
        priority: 'Öncelik',
        low: 'Düşük',
        medium: 'Orta',
        high: 'Yüksek',
        global: 'Genel',
        department: 'Departman',
        project: 'Proje',
        permissionDetails: 'İzin Detayları',
        permissionNotFound: 'İzin bulunamadı',
        permissionNotFoundMessage: 'Aradığınız izin mevcut değil.',
        backToPermissions: 'İzinlere Geri Dön',
        noPermissionsFound: 'İzin bulunamadı',
        noPermissionsFoundCriteria: 'Kriterlerinize uygun izin bulunamadı',
        enterUsernamesSeparated: 'Kullanıcı adlarını virgülle ayırarak girin',
        copy: 'Kopyala',
        created: 'Oluşturuldu',
      },
    },
  },
};

i18n.use(initReactI18next).init({
  resources,
  lng: getInitialLang(),
  fallbackLng: 'en',
  interpolation: {
    escapeValue: false,
  },
});

export default i18n; 